<!-- product-variants-dropdown.liquid  -->
<div class="product-variants-dropdown">
  <button class="product-variants-dropbtn">
    <div style="display: flex;">
      <div class="variants-dropdown-round" style="background-color: #{{product.metafields.custom_fields.colorhexa}};" >
      	{{ product.metafields.custom_fields.variant_image }}
      </div>
      <div class="selected-variant-name"> {{ product.selected_or_first_available_variant.option1 }} </div>
    </div>
    <div style="display: inline-block;">âˆ¨</div>
  </button>
  <div class="product-variants-dropdown-content-list">
    {% assign collection_handle = product.metafields.custom_fields.collection_name | replace: ' ', '-' %}
  	{% assign current_collection = collections[collection_handle].products | reverse %}		
    {% for current_variant in current_collection %}
      <div style="{% if current_variant.handle == product.handle %} background-color: #ddd; {% endif %}">
        <a href="{{ shop.url }}/collections/{{collection_handle}}{{ current_variant.url }}">
             <div class="round" {% if current_variant.metafields.custom_fields.variant_image == blank %}  style="background-color: #{{current_variant.metafields.custom_fields.colorhexa}};" {% endif%} >
			  {{current_variant.metafields.custom_fields.variant_image}}
          	</div>
          <div class="variant-name"> {{ current_variant.selected_or_first_available_variant.option1 }} </div>
        </a>
      </div>
    {% endfor %}
  </div>
  
  <div class="product-variants-dropdown-content-grid">
    {% include 'product-variants-grid' %}
  </div>
</div>

<style>
.variants-dropdown-round {
  height: 23px;
  width: 23px;
  background-color: none;
  border: none;
  border-radius: 15px;
  color: white;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 10px;
  margin: -1px 2px;
  margin-bottom: -3px;
  
}
  
  .variants-dropdown-round img {
  height: 23px;
  width: 23px;
  border: none;
  border-radius: 15px;
  color: white;
  display: inline-block;
  
}
  
  
.product-variants-dropdown-content-list .round img {
  height: 23px;
  width: 23px;
  border: none;
  border-radius: 11px;
  display: inline-block;
  margin: 0;
}
  
/* Dropdown Button */
.product-variants-dropbtn {
  width: 100%;
  background-color: #fff;
  border-style: solid;
  border-width: 1px;
  border-color: #aaa;
  color: black;
  padding: 8px 10px;
  font-family: OpenSansHebrew-Light;
  font-size: 14px;
  font-weight: 300;
  font-style: normal;
  font-stretch: normal;
  text-align: right;
  display: flex;
  justify-content: space-between;
  margin-bottom: 0px;
}

/* The container <div> - needed to position the dropdown content */
.product-variants-dropdown {
  position: relative;
  display: inline-block;
  width: 100%;
}

/* Dropdown Content (Hidden by Default) */
.product-variants-dropdown-content-list {
  width: 100%;
  height: 250px;
  overflow-y: auto; 
  display: none;
  position: absolute;
  background-color: #fff;
  min-width: 160px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
  z-index: 1;
}
  
  .product-variants-dropbtn .selected-variant-name{
  	font-size: 14px;
    font-weight: 300;
    font-family: open_sans_hebrewregular;
  	font-style: normal;
  	font-stretch: normal;
    letter-spacing: normal;
    margin-top: 1px; 
    margin-right: 6px;

  }
  .product-variants-dropdown-content-list a .variant-name{
  	margin: 2px 6px 0px 0px; 
    display: inline-block;
    height: 16px;
  
  }

/* Links inside the dropdown */
.product-variants-dropdown-content-list a {
  color: black;
  padding: 8px 10px;
  text-decoration: none;
  display: flex;
}

/* Change color of dropdown links on hover */
.product-variants-dropdown-content-list a:hover {background-color: #ddd;}

/* Show the dropdown menu on hover */
.product-variants-dropdown:hover .product-variants-dropdown-content-list {display: block;}

/* Change the background color of the dropdown button when the dropdown content is shown */
.product-variants-dropdown:hover .product-variants-dropbtn {
	background-color: #fff;
	color:  black;

}
  
  
.product-variants-dropdown-content-grid{
    display: none;
  	width: 100%;
    z-index:2;
    border-style: solid;
    border-width: 1px;
    border-color: #aaa;
  	background: white;
  	position: absolute;
    }
  
  @media screen and (max-width: 1220px ){
    .product-variants-dropbtn{
    	height: 48px;
      	font-size: 15px;
    
    }
    
    
   .product-variants-dropbtn .selected-variant-name{
      font-size: 18px;

  }
    
    
    
    
    .variants-dropdown-round{
    	height: 19px;
      	width: 19px;
      	margin: 0 0 0 19px;
      
    
    }
    
    .product-variants-dropdown-content-grid .product-color-variant-inside{
    	margin: 12px 15px 12px 15px;
      	width: 100%;
    
    }
    
    .product-variants-dropdown .round, .product-variants-dropdown .variants-dropdown-round{
      height: 25px;
      width: 25px;
    
    }
    
    /* Show the dropdown menu on hover in mobile mode*/
	.product-variants-dropdown:hover .product-variants-dropdown-content-grid {display: inline-flex;}
    .product-variants-dropdown:click .product-variants-dropdown-content-grid {display: inline-flex;}
    
    
    .product-variants-dropbtn{
    	font-size: 15px;
    	
    }
    
    /* Show the dropdown menu on hover */
	.product-variants-dropdown:hover .product-variants-dropdown-content-list {display: none;}
  
  }
</style>