<script type="text/javascript">{%raw%}(function(){if(typeof SECOMAPP==="undefined"){SECOMAPP={}};if(typeof Shopify==="undefined"){Shopify={}};SECOMAPP.fg_ver=1652800000;SECOMAPP.fg_scriptfile="freegifts_20220309.min.js";SECOMAPP.gifts_list_avai={"40001181089907":true,"40001181679731":true,"40001181352051":true,"40054715252851":true,"39813238849651":true,"40092348252275":true,"40092348383347":true,"40092348448883":true,"40092348514419":true,"40092348612723":true,"40092348678259":true,"40092348743795":true,"40092348809331":true,"40092348940403":false,"40092349988979":true,"40092350054515":true,"40092350185587":true,"40092350283891":true,"40092350349427":true,"40092350447731":false,"40092350546035":true,"40092350611571":true,"40092350677107":true,"40092350775411":true,"40092350873715":true,"40092351004787":true,"40092351070323":true,"40092351135859":true,"40092351496307":false,"40092351561843":true,"40092351692915":true,"40092351758451":true,"40092351823987":true,"40092352512115":true,"40092352544883":true,"40092352610419":true,"40092352708723":true,"40092352774259":true,"40092352872563":true,"40092354019443":true,"40092354150515":true,"40092355854451":true,"40092356018291":true,"40092356083827":true,"40092356149363":true,"40092356247667":false,"40092356280435":true,"40092356345971":true,"40092356444275":true,"40092356739187":true,"40092356837491":true,"40092331081843":true,"40092331114611":true,"40092331278451":true,"40092331311219":true,"40092331343987":false,"40092331376755":true,"40092331540595":true,"40092331573363":true,"40092331606131":false,"40092331638899":true,"40092331769971":true,"40092331802739":true,"40092331835507":true,"40092331868275":false,"40092331933811":true,"40092331966579":true,"40092331999347":true,"40092332032115":true,"40092332064883":false,"40092332097651":true,"40092332130419":true,"40092332359795":true,"40092332392563":false,"40092332425331":true,"40092332490867":false,"40092332523635":false,"40092332556403":false,"40092332589171":true,"40092332621939":true,"40092332654707":true,"40092332687475":false,"40092332982387":true,"40092333080691":true,"40092333113459":false,"40092333146227":true,"40092333441139":true,"40092333473907":false,"40092333506675":true,"40092333539443":false,"40092333572211":true,"40092333604979":true,"40092333637747":true,"40092333703283":false,"40092333736051":false,"40092333801587":true,"40092333834355":true,"40092333867123":true,"40092334030963":true,"40092334456947":true,"40092334489715":true,"40092334522483":true,"40092334555251":true,"40092334620787":true,"40092334653555":false,"40092334686323":true,"40092334719091":true,"40092334751859":false,"40092335046771":false,"40092335079539":true,"40092335112307":false,"40092335177843":true,"40092335210611":true,"40092335243379":true,"40092335276147":false,"40092335472755":false,"40092336324723":false,"40092336357491":true,"40092336390259":true,"40092336455795":true,"40092336881779":false,"40092336980083":false,"40092337012851":false,"40092337045619":true,"40092347367539":true,"40092337143923":false,"40092337176691":true,"40092337242227":true,"40092337274995":true,"40092337307763":false,"40092337340531":true,"40092337438835":false,"40092337471603":true,"40092337504371":false,"40092337569907":true,"40092337602675":false,"40092337635443":true,"40092338094195":true,"40092338159731":false,"40092338356339":true,"40092338389107":false,"40092338421875":false,"40092338454643":true,"40092338520179":true,"40092338552947":true,"40092338585715":true,"40092338684019":true,"40092338716787":true,"40092339011699":false,"40092339044467":true,"40092339110003":true,"40092339142771":false,"40092339175539":true,"40092339273843":false,"40092339306611":true,"40092339339379":true,"40092339634291":true,"40092340551795":true,"40092340584563":true,"40092340617331":false,"40092340682867":true,"40092340715635":true,"40092340781171":true,"40092340813939":true,"40092340879475":true,"40092341108851":false,"40092341141619":false,"40092341207155":true,"40092341239923":false,"40092341272691":true,"40092341436531":false,"40092341534835":false,"40092341567603":true,"40092341600371":true,"40092341665907":true,"40092341698675":true,"40092341895283":true,"40092347629683":true,"40092341960819":true,"40092342026355":true,"40092342091891":true,"40092342124659":true,"40092342190195":true,"40092342222963":true,"40092342583411":true,"40092342616179":true,"40092342648947":true,"40092342714483":true,"40092342780019":true,"40092342976627":true,"40092343009395":true,"40092343107699":true,"40001180794995":true,"40001181745267":true,"40001172799603":true,"40001180074099":true,"39788451135603":true,"39549892952179":true,"39957577039987":true,"39957589262451":true,"39957588639859":true,"39466017226867":true,"40001181286515":true,"39692684722291":true,"40091690958963":true,"39692684492915":true,"39692684460147":true,"39692684689523":true,"39984016949363":true,"39720588345459":true,"39783872823411":true,"40054827548787":true,"39692684886131":true,"39692684918899":true,"39983995814003":true,"39795914834035":true,"39948580585587":true,"40044727206003":true,"39692684853363":true,"39692684951667":true,"39838361911411":true,"39647917047923":true,"39647917178995":true,"39647916720243":true,"39647917211763":true,"39803190050931":true};})();{%endraw%}</script>
{% assign sca_all_gift_products_ids =",4330715152499,4591363883123,2063268511859,2063260680307,2063275425907,6787439231091,3948947931251,4391504314483,2063271133299,2063286108275,3948955304051,3948954583155,2063273951347,2063271428211,2063271264371,4391505494131,2063276277875,4391920042099,4391924826227,2063271166067,2063268315251,4391504969843,2063276212339,2063269560435,4391925907571,4391923417203,2063270477939,2063276343411,2063286534259,4391929872499,2063276408947,4368681861235,2063282864243,2063276179571,4391932166259,2063271755891,2063271395443,4328487977075,2063269658739,2063269363827,2063269625971,2063286567027,2063269724275,2063286337651,4391506018419,4391933280371,2063282569331,2063271723123,2063286304883,2063269757043,2063269920883,2063270871155,3871040733299,2063271034995,2063273885811,2063271559283,2063269789811,2063270379635,4328859861107,2063271493747,2063269953651,4492545884275,2063270576243,4541496885363,2063271788659,2063267627123,2063283421299,2063282831475,3948908904563,2063271362675,2063267692659,2063271460979,2063270117491,3871040897139,2063282897011,2063286763635,2063270707315,3871040929907,2063274147955,2063270051955,4391928103027,2063268085875,2063286599795,2063283224691,2063286206579,2063270281331,4360929542259,3928888082547,3871040962675,2063283093619,2063283748979,4492577079411,3928446238835,2063287025779,2063286927475,2063267987571,2063269691507,2063286272115,2063285682291,3928445649011,2063282634867,2063285846131,4410393788531,3928889589875,2063287058547,2063286632563,2063270969459,4541498130547,2063273984115,3928444698739,2063285780595,2063283060851,2063270183027,2063286829171,2063286698099,2063268249715,2063268184179,2063287746675,2063287779443,2063283257459,2063283126387,2063282995315,2063271657587,2063267889267,3928446730355,2063287976051,2063271067763,3871041028211,3871040995443,3871040667763,2063271100531,4334378614899,3928888606835,3926857351283,3926855942259,3871040831603,2063270838387,2063267725427,3956598472819,2063287615603,2063283585139,2063287189619,2063283486835,2063282929779,4537738199155,3928443715699,3926853877875,2063287582835,2063287877747,2063283650675,2063270936691,3956603912307,2063288041587,2063267758195,4371280265331,2063288107123,2063282602099,2063267954803,4404271775859,2063271624819,4548689559667,2063283388531,4548736090227,2063287943283,2063287648371,2063283159155,4548753358963,2063287320691,4548748345459,4541475061875,2063287910515,2063283519603,2063276540019,4570289897587,4570298482803,4570300285043,4570300711027,4274059378803,6573180649587,6573184647283,6621862264947,6624009551987,6624012632179,6659700129907,2063282700403,6686111006835,6686156587123,6696113602675,6696205451379,6696223211635,6747128627315,6818433564787,6717621665907,2063260647539,6599558070387,4519109984371,2063271952499,6670032830579,6675433128051,2063281389683,4674624290931,2063272542323,6843670855795,6706086543475,6706094309491,6706103353459,6808467701875,4536288903283,6542533591155,6828469158003,6705778360435,6706083856499,6778426163315,6744398135411,6828275794035,4366484111475,6706098962547,4483618865267,6704526164083,6578838634611,6706083004531,6670029619315," %}
<script data-cfasync="false" type="text/javascript">
  /* Smart Ecommerce App (SEA Inc)
  * http://www.secomapp.com
  * Do not reuse those source codes if don't have permission of us.
  * */
  {%if template =='product' and product.vendor =='freegifts' and product.metafields.secomapp['freegifts.product_url'] %}
    window.location.replace("{{product.metafields.secomapp['freegifts.product_url']}}");
  {%endif%}
  {%raw%}
  !function(){Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),"function"!=typeof Object.create&&(Object.create=function(e){function t(){}return t.prototype=e,new t}),Object.keys||(Object.keys=function(e){var t,o=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.push(t);return o}),String.prototype.endsWith||Object.defineProperty(String.prototype,"endsWith",{value:function(e,t){var o=this.toString();(void 0===t||t>o.length)&&(t=o.length),t-=e.length;var r=o.indexOf(e,t);return-1!==r&&r===t},writable:!0,enumerable:!0,configurable:!0}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var o;if(null==this)throw new TypeError('"this" is null or not defined');var r=Object(this),i=r.length>>>0;if(0===i)return-1;var n=+t||0;if(Math.abs(n)===1/0&&(n=0),n>=i)return-1;for(o=Math.max(n>=0?n:i-Math.abs(n),0);o<i;){if(o in r&&r[o]===e)return o;o++}return-1}),Array.prototype.forEach||(Array.prototype.forEach=function(e,t){var o,r;if(null==this)throw new TypeError(" this is null or not defined");var i=Object(this),n=i.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(o=t),r=0;r<n;){var a;r in i&&(a=i[r],e.call(o,a,r,i)),r++}}),console=console||{},console.log=console.log||function(){},"undefined"==typeof Shopify&&(Shopify={}),"function"!=typeof Shopify.onError&&(Shopify.onError=function(){}),"undefined"==typeof SECOMAPP&&(SECOMAPP={}),SECOMAPP.removeGiftsVariant=function(e){setTimeout(function(){try{e("select option").not(".sca-fg-cart-item select option").filter(function(){var t=e(this).val(),o=e(this).text();-1!==o.indexOf(" - ")&&(o=o.slice(0,o.indexOf(" - ")));var r=[];return-1!==o.indexOf(" / ")&&(r=o.split(" / "),o=r[r.length-1]),!!(void 0!==SECOMAPP.gifts_list_avai&&void 0!==SECOMAPP.gifts_list_avai[t]||o.endsWith("% off)"))&&(e(this).parent("select").find("option").not(".sca-fg-cart-item select option").filter(function(){var r=e(this).val();return e(this).text().endsWith(o)||r==t}).remove(),e(".dropdown *,ul li,label,div").filter(function(){var r=e(this).html(),i=e(this).data("value");return r&&r.endsWith(o)||i==t}).remove(),!0)})}catch(e){console.log(e)}},500)},SECOMAPP.formatMoney=function(e,t){"string"==typeof e&&(e=e.replace(".",""));var o="",r="undefined"!=typeof Shopify&&void 0!==Shopify.money_format?Shopify.money_format:"{{amount}}",i=/\{\{\s*(\w+)\s*\}\}/,n=t||(void 0!==this.fgsettings&&"string"==typeof this.fgsettings.sca_currency_format&&this.fgsettings.sca_currency_format.indexOf("amount")>-1?this.fgsettings.sca_currency_format:null)||r;if(n.indexOf("amount_no_decimals_no_comma_separator")<0&&n.indexOf("amount_no_comma_separator_up_cents")<0&&n.indexOf("amount_up_cents")<0&&"function"==typeof Shopify.formatMoney)return Shopify.formatMoney(e,n);function a(e,t){return void 0===e?t:e}function s(e,t,o,r,i,n){if(t=a(t,2),o=a(o,","),r=a(r,"."),isNaN(e)||null==e)return 0;var s=(e=(e/100).toFixed(t)).split(".");return s[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+o)+(s[1]?i&&n?i+s[1]+n:r+s[1]:"")}switch(n.match(i)[1]){case"amount":o=s(e,2);break;case"amount_no_decimals":o=s(e,0);break;case"amount_with_comma_separator":o=s(e,2,",",".");break;case"amount_no_decimals_with_comma_separator":o=s(e,0,",",".");break;case"amount_no_decimals_no_comma_separator":o=s(e,0,"","");break;case"amount_up_cents":o=s(e,2,",","","<sup>","</sup>");break;case"amount_no_comma_separator_up_cents":o=s(e,2,"","","<sup>","</sup>")}return n.replace(i,o)},SECOMAPP.setCookie=function(e,t,o,r,i){var n=new Date;n.setTime(n.getTime()+24*o*60*60*1e3+60*r*1e3);var a="expires="+n.toUTCString();document.cookie=e+"="+t+";"+a+(i?";path="+i:";path=/")},SECOMAPP.deleteCookie=function(e,t){document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; "+(t?";path="+t:";path=/")},SECOMAPP.getCookie=function(e){for(var t=e+"=",o=document.cookie.split(";"),r=0;r<o.length;r++){for(var i=o[r];" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return""},SECOMAPP.getQueryString=function(){for(var e={},t=window.location.search.substring(1).split("&"),o=0;o<t.length;o++){var r=t[o].split("=");if(void 0===e[r[0]])e[r[0]]=decodeURIComponent(r[1]);else if("string"==typeof e[r[0]]){var i=[e[r[0]],decodeURIComponent(r[1])];e[r[0]]=i}else e[r[0]].push(decodeURIComponent(r[1]))}return e},SECOMAPP.freegifts_product_json=function(e){if(Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),String.prototype.endsWith||Object.defineProperty(String.prototype,"endsWith",{value:function(e,t){var o=this.toString();(void 0===t||t>o.length)&&(t=o.length),t-=e.length;var r=o.indexOf(e,t);return-1!==r&&r===t}}),e){if(e.options&&Array.isArray(e.options))for(var t=0;t<e.options.length;t++){if(void 0!==e.options[t]&&void 0!==e.options[t].values)if((r=e.options[t]).values&&Array.isArray(r.values))for(var o=0;o<r.values.length;o++)(r.values[o].endsWith("(Freegifts)")||r.values[o].endsWith("% off)"))&&(r.values.splice(o,1),o--)}if(e.options_with_values&&Array.isArray(e.options_with_values))for(t=0;t<e.options_with_values.length;t++){var r;if(void 0!==e.options_with_values[t]&&void 0!==e.options_with_values[t].values)if((r=e.options_with_values[t]).values&&Array.isArray(r.values))for(o=0;o<r.values.length;o++)(r.values[o].title.endsWith("(Freegifts)")||r.values[o].title.endsWith("% off)"))&&(r.values.splice(o,1),o--)}var i=e.price,n=e.price_max,a=e.price_min,s=e.compare_at_price,c=e.compare_at_price_max,f=e.compare_at_price_min;if(e.variants&&Array.isArray(e.variants))for(var p=0;e.variants.length,void 0!==e.variants[p];p++){var l=e.variants[p],u=l.option3?l.option3:l.option2?l.option2:l.option1?l.option1:l.title?l.title:"";"undefined"!=typeof SECOMAPP&&void 0!==SECOMAPP.gifts_list_avai&&void 0!==SECOMAPP.gifts_list_avai[l.id]||u.endsWith("(Freegifts)")||u.endsWith("% off)")?(e.variants.splice(p,1),p-=1):((!n||n>=l.price)&&(n=l.price,i=l.price),(!a||a<=l.price)&&(a=l.price),l.compare_at_price&&((!c||c>=l.compare_at_price)&&(c=l.compare_at_price,s=l.compare_at_price),(!f||f<=l.compare_at_price)&&(f=l.compare_at_price)),void 0!==l.available&&1==l.available&&(e.available=!0))}e.price=i,e.price_max=a==n?null:a,e.price_min=n==a?null:n,e.compare_at_price=s,e.compare_at_price_max=f,e.compare_at_price_min=c,e.price_varies=n<a,e.compare_at_price_varies=c<f}return e},SECOMAPP.fg_codes=[],""!==SECOMAPP.getCookie("sca_fg_codes")&&(SECOMAPP.fg_codes=JSON.parse(SECOMAPP.getCookie("sca_fg_codes")));var e=SECOMAPP.getQueryString();e.freegifts_code&&-1===SECOMAPP.fg_codes.indexOf(e.freegifts_code)&&(void 0!==SECOMAPP.activateOnlyOnePromoCode&&!0===SECOMAPP.activateOnlyOnePromoCode&&(SECOMAPP.fg_codes=[]),SECOMAPP.fg_codes.push(e.freegifts_code),SECOMAPP.setCookie("sca_fg_codes",JSON.stringify(SECOMAPP.fg_codes)))}();
  {%endraw%}
  ;SECOMAPP.customer={};SECOMAPP.customer.orders=[];SECOMAPP.customer.freegifts=[];{% for order in customer.orders %}SECOMAPP.customer.orders.push({"financial_status": {{order.financial_status|json}},"total_price": {{order.total_price|json}},"created_at": "{{order.created_at | date:'%s'}}" });{% for line_item in order.line_items %}{%if line_item.variant.metafields.secomapp.freegifts or line_item.variant.title contains '(Freegifts)' or line_item.vendor == 'freegifts'%}SECOMAPP.customer.freegifts.push({{line_item.variant.id}});{%endif%}{%if line_item.discount_allocations[0].discount_application.title == 'FreeGift'%}SECOMAPP.customer.freegifts.push('{{line_item.variant.id}}_{{line_item.discount_allocations[0].amount}}');{%endif%}{% endfor %}{% endfor %};SECOMAPP.customer.email={{customer.email | json}};SECOMAPP.customer.first_name={{customer.first_name | json}};SECOMAPP.customer.last_name={{customer.last_name | json}};SECOMAPP.customer.tags={{customer.tags | json}};SECOMAPP.customer.orders_count={{customer.orders_count | json}};SECOMAPP.customer.total_spent={{customer.total_spent | json}};{%if customer.last_order.financial_status =='paid' %}SECOMAPP.customer.last_order='{{customer.last_order.created_at}}';SECOMAPP.customer.last_total={{customer.last_order.total_price | json}};{% endif %}{% assign foundFreeGift=false %}{% if template contains 'cart' %}SECOMAPP.shopcart={{ cart | json }};var cic=[];{% for item in cart.items %}{%if item.product.collections%}{% capture results %}[{% for collection in item.product.collections %}{{ collection.id | json }}{% unless forloop.last %},{% endunless %}{% endfor %}]{% endcapture %}cic[{{item.id}}]={{results}};{%endif%}{% endfor %}SECOMAPP.cart_item_collection = cic;{% endif %}
</script>