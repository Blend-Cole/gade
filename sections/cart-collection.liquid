{% assign products = collections[section.settings.collection].products %}
{% assign limit = section.settings.limit %}

<div class="featured-product-collection desktop-12 tablet-6 mobile-3">
  <h1>{{ section.settings.heading }}</h1>
    <div class="owl-carousel">
      {% for product in products limit: limit %}
        <div class="lazyOwl product" data-alpha="{{ product.title }}" data-price="{{ product.price }}">
          {% include 'product-listing-buy' %}
        </div>
      {% endfor %}
    </div>
  </div>

<style>
  .featured-product-collection h1{
    margin: 0 0 41px 0;
  	font-size: 24.5px;
    font-family: 'open_sans_hebrewregular';
    color: {{section.settings.heading_color}};
    text-align: center;
  }
  
  
  .featured-product-collection .box-ratio{
    height: auto;
  }
  
  .featured-product-collection .reveal { max-width: 70%; margin: 0 auto; }
  
  .featured-product-collection input.add-to-cart {
    font-size: 1.1rem;
    font-weight: bold;
  }
  
  .featured-product-collection .box-ratio img{
  	margin: 10px auto;
  }
    
  .featured-product-collection .item-border{
    border: 1px solid #b8b8b8;
    margin: 0 0  8px 0;
  }
  
  .featured-product-collection .product-details .product-description-car { display:none; }
  
  .featured-product-collection .product-details { padding-bottom: 1.2rem; min-height: 100px;}
  
  .featured-product-collection .product-details h3{
  	font-size: 18.5px;
  }
  
  .featured-product-collection .product-details .product-description-car{
    height: 73px;
  	font-size: 18.5px;
  	color: #b8b8b8;
    margin: 0 0 34px 0;
    padding: 34px 17px 0 17px;
  }
  
  .featured-product-collection .price .money{
   	font-size: 21px;
  }
  
  
  @media screen and (max-width: 1220px ){
    .featured-product-collection{
      display: block;
      width: 320pt;
      margin: 0 0 0 0;
    }

    .featured-product-collection .reveal{
      width: 100%;
      height: 100%;
      object-fit: contain;
    }
    
    .featured-product-collection .product-details h3 { font-size: 1rem; }
    
    .featured-product-collection .price .money{
      font-size: 1rem;
    }

  }
  
  
</style>

<script>
    r(function(){
    $('.owl-carousel').owlCarousel({
        itemsCustom : [
          [0, 2],
          [450, 2],
          [600, 2],
          [700, 3],
          [1000, 3],
          [1200, 4],
          [1400, 4],
          [1600, 4]
        ],
        lazyLoad : true,
        rtl:true,
        loop:true,
        pagination : false,
        navigation: true,
        navigationText : false,
        autoPlay : false,
        stopOnHover : true,
      	margin:0,
      }); 
      
      
      $(".box-ratio").css({'padding-bottom': '0'});
      
      
      if( $(window).width() < 1221 ){
        $(".owl-item").css({'margin': '0 0.2rem'});
      }else{
        $(".owl-item").css({'margin': '0 0.5rem'});
      }
      
      
    });

  function r(f){/in/.test(document.readyState)?setTimeout('r('+f+')',9):f()}


</script>



{% schema %}
  {
    "name": "Cart collection",
    "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Main Heading",
      "default": "Cart collection"
    },
    {
       "type": "color",
       "id": "heading_color",
       "label": "Heading color",
       "default": "#000"
    },
    {
      "id": "collection",
      "type": "collection",
      "label": "Collection"
    },
    {
      "type": "range",
      "id": "limit",
      "min": 2,
      "max": 30,
      "step": 1,
      "label": "Products shown",
      "default": 6
    }
  ],
  "presets": [
    {
      "name": "Cart collection",
      "category": "Collection"
    }
  ]
}
{% endschema %}
